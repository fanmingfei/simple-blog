<script>
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/static/sw.js', {
            scope: '/static/'
        }).then(function(registration) {
            console.log('sw ok');
        }).catch(function(error) {
            console.log('sw error:', error);
        });
    }

    // Title
    (() => {
        const title = document.title
        let timmer
        document.addEventListener('visibilitychange', () => {
            clearTimeout(timmer)
            if (document.hidden) {
                document.title = '喔唷，崩溃啦!'
            } else {
                document.title = '哎呦，又好啦!'
                timmer = setTimeout(() => {
                    document.title = title
                }, 1000)
            }
        })
    })();

    // Baidu
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>
<div style="display: none">
    <script src="https://s95.cnzz.com/z_stat.php?id=1261742601&web_id=1261742601" language="JavaScript"></script>
</div>