---
layout: post
title: "ä¸€ç»„éšä¹‹é£˜è¿‡çš„ JavaScripters çš„èŠå¤©è®°å½•"
category: JavaScript
date: 2017-05-13 10:00:00
---

éšç€ç½‘ç»œçš„å‘å±•ï¼ŒèŠå¤©è½¯ä»¶æ—¥ç›Šæˆä¸ºäººç±»ç”Ÿæ´»ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚æ—¥å¸¸åˆ·å±çš„äººå±¡è§ä¸é²œã€‚
![](http://p7.qhimg.com/t01d12870651b6c4937.jpg)
![](http://p2.qhimg.com/t01d489b65960b97981.jpg)
![](http://p8.qhimg.com/t016dbb1f107a7f6ee8.jpg)
![](http://p9.qhimg.com/t016b62195820e5817a.jpg)

å°±è¿™æ ·ï¼Œä¸€åœºé«˜ç«¯æ°´å‡†çš„ JavaScripter äº¤æµéšä¹‹å¼€å§‹ï¼š


ç¬¬ä¸€ä¸ªè§£å†³æ–¹æ¡ˆéšä¹‹è€Œæ¥ï¼š

![](http://p0.qhimg.com/t01f1754d547eda20f0.jpg)

éšåç¬¬äºŒä¸ªè§£å†³æ–¹æ¡ˆé©¬ä¸Šå‡ºç°ï¼š

![](http://p9.qhimg.com/t015f128c6619010830.jpg)

æ¥ç€æœ‰äººæå‡ºäº†å…³äºè¿™ä¸¤ä¸ªæ–¹æ³•å¿«æ…¢çš„ç–‘é—®:

![](http://p5.qhimg.com/t016629aa9438ffe296.jpg)

éšåæœ‰äººé€šè¿‡ jsperf æ£€æµ‹äº†è¿™ä¸¤ç§æ–¹æ³•çš„é€Ÿåº¦ï¼š

![](http://p0.qhimg.com/t012ad3364ad2227197.jpg)

ä»å›¾ç‰‡æ¥çœ‹ï¼Œä¼¼ä¹ split æ¯” match å¿«ä¸€å€ï¼


ç„¶åï¼Œ@Zac åšå‡ºäº†ç–‘é—®ï¼Œæ˜¯å¦ for ä¼šæ›´å¿«

![](http://p3.qhimg.com/t018d84e2cba9c52d34.jpg)

ç›´æ¥æŠ›å‡º perf åï¼Œç¾¤ä¸»ä¼—äººæå‡ºäº†å¼‚è®®

![](http://p9.qhimg.com/t01109a046b65458639.jpg)


æå‡º length çš„æ£€æµ‹ç»“æœï¼š

![](http://p7.qhimg.com/t01f6d1e73f53a65192.jpg)

![](http://p0.qhimg.com/t01518956340f1fa121.jpg)

è™½ç„¶å¯¹åˆšåˆšçš„é€»è¾‘æœ‰ä¸€äº›ä¸æ»¡æ„

![](http://p9.qhimg.com/t0187f75a16f2fe8d30.jpg)

ä½†æ˜¯ä¹Ÿæ²¡æœ‰å»ä¼˜åŒ–

æ¥ä¸‹æ¥ @è¯¥ç¾¤å·²è§£æ•£ æå‡ºäº†æ–°çš„æ–¹æ¡ˆ

![](http://p2.qhimg.com/t01cf62a3ee4fce835a.jpg)

ç»“æœæ˜¯ï¼š

![](http://p0.qhimg.com/t01267428fcd513aa70.jpg)


åæ¥å‘ç° replace å†™é”™äº†ã€‚

![](http://p6.qhimg.com/t019fafce33ef833aa9.jpg)


æœ€å @Zac æŠŠ var i æå‡ºæ¥äº†

![](http://p2.qhimg.com/t016a79279af25548ae.jpg)

çœ‹èµ·æ¥å¿«äº†é‚£ä¹ˆé‚£ä¹ˆå¤šï¼Œå¯æƒœçš„æ˜¯... ä»–å†™é”™äº†ä»£ç 

åæ¥ï¼Œä»–æŠŠä»£ç æ”¹å¥½äº†

![](http://p2.qhimg.com/t01539699626b2e6f7f.jpg)

å‘ç°è¿˜æ˜¯ split å¿«

åæ¥ @hugo å‘äº†æ–° perf

![](http://p7.qhimg.com/t01a87a999ff945b2b0.jpg)

ç¬¬ä¸€ä¸ªæ˜¯ for ï¼Œç¬¬äºŒä¸ªæ˜¯ split è¿™é‡Œä¹Ÿæ˜¯ split å¿«ã€‚


æ¥ç€ @rannnğŸ¨ å‘äº†ä¸€ä¸ª

![](http://p4.qhimg.com/t01f30e687c91dc20fe.jpg)

ä½†æ˜¯ @Zac åˆå‘äº†ä¸€ä¸ª

![](http://p5.qhimg.com/t01a0abab917f0074d5.jpg)

for æœ€å¿«ï¼Œä¸è¿‡ä»–ä»¬ä¸¤ä¸ªçš„å†™æ³•ä¸å¤ªä¸€æ ·ã€‚

å¯¹æ¯”ä¸¤ä¸ªäººçš„ for3 å’Œ for charCodeAtã€‚

ä»–ä»¬ä¸¤ä¸ªé™¤äº†ç”¨çš„ç»ˆç«¯ä¸ä¸€æ ·ä»¥å¤–ï¼Œfor3 è¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯çš„æ—¶å€™è·³è¿‡äº†â€œé£˜â€åé¢é‚£ä¸ªå­—ï¼Œ

è™½ç„¶è¿™æ ·å¯èƒ½å­˜åœ¨é—®é¢˜ï¼Œæ¯”å¦‚â€œé£˜â€åé¢æ ¹æœ¬ä¸æ˜¯â€œè¿‡â€è€Œæ˜¯â€œé£˜è¿‡çš„è¯ï¼Œå°±ä¼šå°‘æ£€ç´¢ä¸€ä¸ªã€‚

![](http://p0.qhimg.com/t01c48e0d401f98fe99.jpg)

ä¸è¿‡æ˜¯åœ¨è¿™ä¸ªé¢˜é‡Œæ˜¯å¯ç”¨çš„ï¼Œè¿™ä¸ªé¢˜â€œé£˜â€åé¢éƒ½æ˜¯â€œè¿‡â€ã€‚
ä½†æ˜¯ä¸ºäº†å®Œç¾ï¼Œæˆ‘ä»¬ç¨ä½œæ”¹åŠ¨

![](http://p4.qhimg.com/t01c0ef56e92168b140.jpg)

```
var count = 0;
var len = data.length;
for(i = 0;i < len;){
  if(data.charCodeAt(i++) === 39128 && data.charCodeAt(i) === 36807){
        count++;
        i ++;
    }
}
```

å°±ä¸Šé¢çš„å‡ ä¸ªæ¨¡ç³Šä¸æ¸…çš„ä¾‹å­

åˆ°åº•æ€ä¹ˆæ ·æ‰å¿«å‘¢....

äº²è‡ªè¯•ä¸€ä¸‹å§

split æ–¹æ¡ˆ
```
var count = data.split('é£˜è¿‡').length - 1;
count;
```


æ”¹è‰¯è¿‡çš„è·³è¿‡â€œè¿‡â€å­—
```
var count = 0;
var len = data.length;
for(i = 0;i < len;){
  if(data.charCodeAt(i++) === 39128 && data.charCodeAt(i) === 36807){
        count++;
        i ++;
    }
}
count;
```

æœ‰ä¿®æ”¹çš„
```
var count = 0;
var len = data.length;
for(var i = 0;i < len;i++){
  if(data.charCodeAt(i) === 39128 && data.charCodeAt(i+1) === 36807){
        count++;
    }
}
count;
```



@rannnğŸ¨ ä»–çš„ i æ˜¯æ²¡æœ‰ è¢« var çš„
```
var count = 0;
var len = data.length;
for(i = 0;i < len;){
  if(data.charCodeAt(i++) === 39128 && data.charCodeAt(i++) === 36807) count++;
}
count;

```

@Zac
```
var count = 0;
var len = data.length;
var i = 0;
for(i;i < len;i++){
  if(data.charCodeAt(i) === 39128 && data.charCodeAt(i+1) === 36807)
        count++;
}
count;
```


æˆ‘çš„æœºå™¨ï¼š

![](http://p5.qhimg.com/t0180730edc5857d284.jpg)
![](http://p6.qhimg.com/t015545ed86ce201cdb.jpg)
![](http://p1.qhimg.com/t0144a26e84d1886f80.jpg)

æµ‹è¯•åœ°å€ï¼š

[https://jsperf.com/splite-for-pg](https://jsperf.com/splite-for-pg);

